---
var { classes } = Astro.props;
var navClasses = classes + " navbar navbar-expand-lg navbar-dark bg-dark";

const pages = ["Home", "Release Notes"];
const links = ["/", "/releases"];
---

<nav class={navClasses}>
    <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
    >
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            {
                pages.map((page, index) => (
                    <li class="nav-item">
                        <a class="nav-link" href={links[index]}>
                            {page}
                        </a>
                    </li>
                ))
            }

            <li class="nav-item dropdown show">
                <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="/img/iconLanguage.svg" alt="Icono de cambio de idioma" width="20" draggable="false" />
                    <span id="langField"></span>
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#">EN</a>
                    <a class="dropdown-item" href="#">ES</a>
                </div>
            </li>
        </ul>
    </div>
</nav>

<script>
    window.addEventListener("DOMContentLoaded", () => {
        const langField = document.querySelector("#langField");
        var lang = getLanguage();

        if (langField) {
            langField.innerHTML = lang.toUpperCase();
        }
    });
</script>
